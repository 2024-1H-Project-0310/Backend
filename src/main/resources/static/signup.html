<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
</head>
<body>
<div id="parameters">
    <!-- 여기에 파라미터가 출력될 위치를 지정합니다. -->
</div>

<script>
    // 현재 페이지의 URL을 가져오는 함수
    function getCurrentURL() {
        return window.location.href;
    }

    // URL에서 파라미터를 추출하는 함수
    function getURLParameters(url) {
        const searchParams = new URLSearchParams(url.split('?')[1]);
        const at = searchParams.get('at');
        const rt = searchParams.get('rt');
        return { at, rt };
    }

    // 리다이렉트된 페이지에서 ac와 rt 파라미터를 추출하는 함수
    function extractParametersFromRedirect() {
        const redirectURL = getCurrentURL();
        const { at, rt } = getURLParameters(redirectURL);
        return { at, rt };
    }

    // 파라미터를 클립보드에 복사하는 함수
    function copyToClipboard(text) {
        const textField = document.createElement('textarea');
        textField.innerText = text;
        document.body.appendChild(textField);
        textField.select();
        document.execCommand('copy');
        textField.remove();
    }

    // 추출된 파라미터를 현재 페이지에 출력하고 클릭하여 복사할 수 있도록 함
    function displayParameters(at, rt) {
        const parametersDiv = document.getElementById('parameters');
        parametersDiv.innerHTML = `
            <p>
                <span>at: ${at}</span>
                <button onclick="copyToClipboard('${at}')">Copy</button>
            </p>
            <p>
                <span>rt: ${rt}</span>
                <button onclick="copyToClipboard('${rt}')">Copy</button>
            </p>
        `;
    }

    // 리다이렉트된 페이지에서 파라미터 추출 및 출력
    const { at, rt } = extractParametersFromRedirect();
    displayParameters(at, rt);
</script>
</body>
</html>
